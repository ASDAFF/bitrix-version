function sendFForm(e){if(!BX.type.isDomNode(e))return false;BX.ajax({method:"GET",processData:false,scriptsRunFirst:false,url:e.href+"&sessid="+BX.bitrix_sessid(),data:"",onsuccess:function(){BX.reload()}});return false}function fRefreshCaptcha(e){var t=null,a=BX.findChild(e,{attr:{name:"captcha_code"}},true),i=BX.findChild(e,{attr:{name:"captcha_word"}},true),r=BX.findChild(e,{className:"comments-reply-field-captcha-image"},true);if(r)t=BX.findChild(r,{tag:"img"});if(a&&i&&t){i.value="";BX.ajax.getCaptcha(function(e){a.value=e.captcha_sid;t.src="/bitrix/tools/captcha.php?captcha_code="+e.captcha_sid})}}function ValidateForm(e){if(typeof e!="object"||typeof e.REVIEW_TEXT!="object")return false;var t=BX.findChild(e,{attribute:{name:"send_button"}},true);if(t)t.disabled=true;var a=BX.findChild(e,{attribute:{name:"view_button"}},true);if(a)a.disabled=true;return true}function fToggleCommentsForm(e,t){if(t===null)t=false;t=!!t;var a=BX.findChild(e.parentNode.parentNode,{"class":"comments-reply-form"},true),i=a.style.display!="block"||t,r=i?"comments-expanded":"comments-minimized",n=i?"comments-minimized":"comments-expanded";a.style.display=i?"block":"none";BX[i?"removeClass":"addClass"](a,"comments-reply-form-hidden");e.innerHTML=i?BX.message("MINIMIZED_MINIMIZE_TEXT"):BX.message("MINIMIZED_EXPAND_TEXT");BX.removeClass(BX.addClass(e.parentNode,r),n);if(window.oLHE||i){if(t){BX.scrollToNode(a)}setTimeout(function(){if(!BX.browser.IsIE())window.oLHE.SetFocusToEnd();else window.oLHE.SetFocus()},100)}return false}function AttachFile(e,t,a,i){var r=null;var n=false;e=parseInt(e);t=parseInt(t);document.getElementById("upload_files_info_"+a).style.display="block";for(var o=e;o<e+t;o++){r=document.getElementById("upload_files_"+o+"_"+a);if(!r||typeof r===null)break;if(r.style.display=="none"){n=true;r.style.display="block";break}}var s=!n?true:o>=e+t-1;if(s===true)i.style.display="none"}var GetSelection=function(){var e="";if(typeof window.getSelection=="function"){try{var t=window.getSelection().getRangeAt(0).cloneContents();var a=BX.create("div");a.appendChild(t);e=a.innerHTML}catch(a){}}else if(document.selection&&document.selection.createRange)e=document.selection.createRange().htmlText;return e};function quoteMessageEx(e,t,a){var i=null;if(!!a){var r=BX.findParent(a,{className:"comments-component"});if(!!r)i=BX.findChild(r,{className:"post_message"},true)}window["replyForumFormOpen"]();var n="";var o=0;n=GetSelection();if(document.getSelection){n=n.replace(/\r\n\r\n/gi,"_newstringhere_").replace(/\r\n/gi," ");n=n.replace(/  /gi,"").replace(/_newstringhere_/gi,"\r\n\r\n")}if(n===""&&t){o=parseInt(t.replace(/message_text_/gi,""));if(o>0){var s=document.getElementById(t);if(typeof s=="object"&&s){n=s.innerHTML}}else if(t.length>0){n=t}}if(n!==""){n=n.replace(/[\n|\r]*<br(\s)*(\/)*>/gi,"\n");var l=function(e,t,a,i){var r=" ";var n=/showWMVPlayer.*?bx_wmv_player.*?file:[\s'"]*([^"']*).*?width:[\s'"]*([^"']*).*?height:[\s'"]*([^'"]*).*?/gi;var o=n.exec(t);if(o)r="[VIDEO WIDTH="+o[2]+" HEIGHT="+o[3]+"]"+o[1]+"[/VIDEO]";if(r==" "){var s=/bxPlayerOnload[\s\S]*?[\s'"]*file[\s'"]*:[\s'"]*([^"']*)[\s\S]*?[\s'"]*height[\s'"]*:[\s'"]*([^"']*)[\s\S]*?[\s'"]*width[\s'"]*:[\s'"]*([^"']*)/gi;o=s.exec(t);if(o)r="[VIDEO WIDTH="+o[3]+" HEIGHT="+o[2]+"]"+o[1]+"[/VIDEO]"}return r};n=n.replace(/<script[^>]*>/gi,"").replace(/<\/script[^>]*>/gi,"");n=n.replace(/\001([^\002]*)\002/gi,l);n=n.replace(/<noscript[^>]*>/gi,"").replace(/<\/noscript[^>]*>/gi,"");n=n.replace(/\003([^\004]*)\004/gi," ");n=n.replace(/<table class\=[\"]*forum-quote[\"]*>[^<]*<thead>[^<]*<tr>[^<]*<th>([^<]+)<\/th><\/tr><\/thead>[^<]*<tbody>[^<]*<tr>[^<]*<td>/gi,"").replace(/<table class\=[\"]*forum-code[\"]*>[^<]*<thead>[^<]*<tr>[^<]*<th>([^<]+)<\/th><\/tr><\/thead>[^<]*<tbody>[^<]*<tr>[^<]*<td>/gi,"").replace(/<table class\=[\"]*data-table[\"]*>[^<]*<tbody>/gi,"").replace(/<\/td>[^<]*<\/tr>(<\/tbody>)*<\/table>/gi,"").replace(/[\r|\n]{2,}([\001|\002])/gi,"\n$1");var c=0;while(c++<50&&(n.search(/\002([^\002\003]*)\003/gi)>=0||n.search(/\001([^\001\003]*)\003/gi)>=0)){n=n.replace(/\002([^\002\003]*)\003/gi,"[CODE]$1[/CODE]").replace(/\001([^\001\003]*)\003/gi,"[QUOTE]$1[/QUOTE]")}var d=function(e,t,a){var i=new RegExp("([^]*)("+t+")([^]*)","i");var r=new RegExp("((?:)(?:[^]*))("+t+")((?:[^]*)(?:))","i");var n=0;while(n++<300&&e.search(i)>=0)e=e.replace(r,"$1"+a+"$3");return e};c=0;while(c++<10&&n.search(/\004([^\004\003]*)\003/gi)>=0){n=d(n,"<tr>","[TR]");n=d(n,"</tr>","[/TR]");n=d(n,"<td>","[TD]");n=d(n,"</td>","[/TD]");n=n.replace(/\004([^\004\003]*)\003/gi,"[TABLE]$1[/TD][/TR][/TABLE]")}if(BX.browser.IsIE())n=n.replace(/<img(?:(?:\s+alt\s*=\s*\"?smile([^\"\s]+)\"?)|(?:\s+\w+\s*=\s*[^\s>]*))*>/gi,"$1");else n=n.replace(/<img.*?alt=[\"]*smile([^\"\s]+)[\"]*[^>]*>/gi,"$1");n=n.replace(/<img(.+?)data-code=\"(.+?)\"(.+?)>/gi,"$2");n=n.replace(/<a[^>]+href=[\"]([^\"]+)\"[^>]+>([^<]+)<\/a>/gi,"[URL=$1]$2[/URL]");n=n.replace(/<a[^>]+href=[\']([^\']+)\'[^>]+>([^<]+)<\/a>/gi,"[URL=$1]$2[/URL]");n=n.replace(/<[^>]+>/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"');n=n.replace(/(smile(?=[:;8]))/g,"");n=n.replace(/\&shy;/gi,"");n=n.replace(/\&nbsp;/gi," ");if(e!==null&&e)n=e+BX.message("author")+n;if(!!i){i.value+=n}else if(!!window.oLHE){if(window.oLHE.sEditorMode=="code"&&window.oLHE.bBBCode){window.oLHE.WrapWith("[QUOTE]","[/QUOTE]",n)}else if(window.oLHE.sEditorMode=="html"){var f=!window.oLHE.bBBCode?' id"='+window.oLHE.SetBxTag(false,{tag:"quote"})+'"':"";window.oLHE.InsertHTML('<blockquote class="bx-quote"'+f+">"+window.oLHE.ParseContent(n,true)+"</blockquote><br/>")}window.oLHE.SetFocus();BX.defer(window.oLHE.SetFocus,window.oLHE)()}}return false}BX(function(){if(BX.browser.IsIE()){var e=BX.findChildren(document,{className:"comments-post-table"},true),t,a,i;if(!e)return;for(i=0;i<e.length;i++){t=e[i].getElementsByTagName("*");a=t.length;while(a--){if(t[a].scrollWidth>t[a].offsetWidth){t[a].style["paddingBottom"]="20px";t[a].style["overflowY"]="hidden"}}}}});
//# sourceMappingURL=script.map.js