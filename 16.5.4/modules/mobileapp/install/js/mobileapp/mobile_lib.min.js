(function(){if(window.BXMobileApp)return;window.syncApiObject=function(objectName){this.objectName=objectName;try{this.object=eval(objectName)}catch(e){this.object=null}};window.syncApiObject.prototype.getFunc=function(t){if(typeof this.object!="undefined"&&this.object!=null){var e=this;return function(){return function(){if(typeof e.object[t]=="function"){var a=e.object[t].apply(e.object,arguments);if(BXMobileAppContext.getPlatform()=="android"){if(typeof a=="string"){var o=null;try{o=JSON.parse(a);a=o}catch(i){}}}return a}else{console.error(e.objectName+" error: function '"+t+"' not found");return false}}.apply(e,arguments)}}return function(){console.error("Mobile Sync API: "+this.objectName+" is not defined",this)}};var _pageNavigator=new syncApiObject("BXMobileNavigator");window.BXMobileApp={apiVersion:typeof appVersion!="undefined"?appVersion:1,cordovaVersion:"3.6.3",UI:{IOS:{flip:function(){app.flipScreen()}},Slider:{state:{CENTER:0,LEFT:1,RIGHT:2},setState:function(t){switch(t){case this.state.CENTER:app.openContent();break;case this.state.LEFT:app.openLeft();break;case this.state.RIGHT:app.exec("openRight");break;default:}},setStateEnabled:function(t,e){switch(t){case this.state.LEFT:app.enableSliderMenu(e);break;case this.state.RIGHT:app.exec("enableRight",e);break;default:}}},Photo:{show:function(t){app.openPhotos(t)}},Document:{showCacheList:function(t){app.showDocumentsCache(t)},open:function(t){app.openDocument(t)}},DatePicker:{setParams:function(t){if(typeof t=="object")this.params=t},show:function(t){this.setParams(t);app.showDatePicker(this.params)},hide:function(){app.hideDatePicker()}},SelectPicker:{show:function(t){app.showSelectPicker(t)},hide:function(){app.hideSelectPicker()}},BarCodeScanner:{open:function(t){app.openBarCodeScanner(t)}},NotifyPanel:{setNotificationNumber:function(t){app.setCounters({notifications:t})},setMessagesNumber:function(t){app.setCounters({messages:t})},setCounters:function(t){app.setCounters(t)},refreshPage:function(t){app.refreshPanelPage(t)},setPages:function(t){app.setPanelPages(t)}},Badge:{setIconBadge:function(t){app.exec("setBadge",t)},setButtonBadge:function(t,e){app.exec("setButtonBadge",{code:t,value:e})}},types:{COMMON:0,BUTTON:1,PANEL:2,TABLE:3,MENU:4,ACTION_SHEET:5,NOTIFY_BAR:6},parentTypes:{TOP_BAR:0,BOTTOM_BAR:1,SLIDING_PANEL:2,UNKNOWN:3}},PushManager:{getLastNotification:new syncApiObject("BXMobileAppContext").getFunc("getLastNotification"),prepareParams:function(t){if(typeof t!="object"||typeof t.params=="undefined"){return{ACTION:"NONE"}}var e={};try{e=JSON.parse(t.params)}catch(a){e={ACTION:t.params}}return e}},PageManager:{loadPageBlank:function(t){app.loadPageBlank(t)},loadPageUnique:function(t){if(typeof t!="object")return false;t.unique=true;app.loadPageBlank(t);if(typeof t.data=="object"){app.onCustomEvent("onPageParamsChangedLegacy",{url:t.url,data:t.data});BX.onCustomEvent("onPageParamsChangedLegacy",[{url:t.url,data:t.data}])}return true},loadPageStart:function(t){app.loadPageStart(t)},loadPageModal:function(t){app.showModalDialog(t)},getAllPages:_pageNavigator.getFunc("getAllPages"),getCurrent:_pageNavigator.getFunc("getCurrent"),getPrevious:_pageNavigator.getFunc("getPrevious"),goToFirst:_pageNavigator.getFunc("goToFirst"),goBack:_pageNavigator.getFunc("goBack"),goToPageWithId:_pageNavigator.getFunc("goToPageWithId"),goToPageWithUniqueCode:_pageNavigator.getFunc("goToPageWithUniqueCode"),isFirst:_pageNavigator.getFunc("isFirst"),isLast:_pageNavigator.getFunc("isLast"),isVisible:_pageNavigator.getFunc("isVisible")},TOOLS:{extend:function(t,e){var a=function(){};a.prototype=e.prototype;t.prototype=new a;t.prototype.constructor=t;t.superclass=e.prototype;if(e.prototype.constructor==Object.prototype.constructor){e.prototype.constructor=e}},merge:function(t,e){for(var a in t){if(typeof e[a]!="undefined"){t[a]=e[a]}}return t}},removeCustomEvent:function(t,e){BX.removeCustomEvent(t,e);app.exec("unsubscribeEvent",{eventName:t})},addCustomEvent:function(t,e){BX.addCustomEvent(t,e);app.exec("subscribeEvent",{eventName:t})},onCustomEvent:function(t,e){app.onCustomEvent(t,e,false,false)}};BXMobileApp.UI.Element=function(t,e){this.id=typeof t=="undefined"?this.type+"_"+Math.random():t;this.parentId=e.parentId?e.parentId:BXMobileApp.UI.UNKNOWN;this.isCreated=false;this.isShown=false};BXMobileApp.UI.Element.prototype.onCreate=function(){this.isCreated=true;if(this.isShown){app.exec("show",{type:this.type,id:this.id})}};BXMobileApp.UI.Element.prototype.getIdentifiers=function(){return{id:this.id,type:this.type,parentId:this.parentId}};BXMobileApp.UI.Element.prototype.show=function(){this.isShown=true;if(this.isCreated){app.exec("show",{type:this.type,id:this.id})}};BXMobileApp.UI.Element.prototype.hide=function(){this.isShown=false;app.exec("hide",{type:this.type,id:this.id})};BXMobileApp.UI.Element.prototype.destroy=function(){};BXMobileApp.UI.Button=function(t,e){this.params=e;BXMobileApp.UI.Button.superclass.constructor.apply(this,[t,e])};BXMobileApp.TOOLS.extend(BXMobileApp.UI.Button,BXMobileApp.UI.Element);BXMobileApp.UI.Button.prototype.setBadge=function(t){if(this.params.badgeCode){BXMobileApp.UI.Badge.setButtonBadge(this.params.badgeCode,t)}};BXMobileApp.UI.Button.prototype.remove=function(){app.removeButtons(this.params)};BXMobileApp.UI.Menu=function(t,e){this.items=t.items;this.type=BXMobileApp.UI.types.MENU;BXMobileApp.UI.Menu.superclass.constructor.apply(this,[e,t]);app.menuCreate({items:this.items})};BXMobileApp.TOOLS.extend(BXMobileApp.UI.Menu,BXMobileApp.UI.Element);BXMobileApp.UI.Menu.prototype.show=function(){app.menuShow()};BXMobileApp.UI.Menu.prototype.hide=function(){app.menuHide()};BXMobileApp.UI.NotificationBar=function(t,e){this.params=BXMobileApp.TOOLS.merge(t,{});this.type=BXMobileApp.UI.types.NOTIFY_BAR;BXMobileApp.UI.NotificationBar.superclass.constructor.apply(this,[e,t]);var a=this.params;a["id"]=this.id;a["onCreate"]=BX.proxy(function(t){this.onCreate(t)},this);app.exec("notificationBar",{action:"add",params:a})};BXMobileApp.TOOLS.extend(BXMobileApp.UI.NotificationBar,BXMobileApp.UI.Element);BXMobileApp.UI.NotificationBar.prototype.onCreate=function(t){this.isCreated=true;if(this.isShown){app.exec("notificationBar",{action:"show",params:this.params})}};BXMobileApp.UI.NotificationBar.prototype.show=function(){if(this.isCreated){app.exec("notificationBar",{action:"show",params:this.params})}this.isShown=true};BXMobileApp.UI.NotificationBar.prototype.hide=function(){if(this.isShown){app.exec("notificationBar",{action:"hide",params:this.params})}this.isShown=false};BXMobileApp.UI.ActionSheet=function(t,e){this.items=t.buttons;this.title=t.title?t.title:"";this.type=BXMobileApp.UI.types.ACTION_SHEET;BXMobileApp.UI.ActionSheet.superclass.constructor.apply(this,[e,t]);app.exec("createActionSheet",{onCreate:BX.proxy(function(t){this.onCreate(t)},this),id:this.id,title:this.title,buttons:this.items})};BXMobileApp.TOOLS.extend(BXMobileApp.UI.ActionSheet,BXMobileApp.UI.Element);BXMobileApp.UI.ActionSheet.prototype.show=function(){if(this.isCreated){app.exec("showActionSheet",{id:this.id})}this.isShown=true};BXMobileApp.UI.ActionSheet.prototype.onCreate=function(t){this.isCreated=true;if(this.isShown){app.exec("showActionSheet",{id:this.id})}};BXMobileApp.UI.Table=function(t,e){this.params={table_id:e,url:t.url||"",isroot:false,TABLE_SETTINGS:{callback:function(){},markmode:false,modal:false,multiple:false,okname:"OK",cancelname:"Cancel",showtitle:false,alphabet_index:false,selected:{},button:{}}};this.params.table_settings=this.params.TABLE_SETTINGS;this.params=BXMobileApp.TOOLS.merge(this.params,t);this.params.type=BXMobileApp.UI.types.TABLE;BXMobileApp.UI.Table.superclass.constructor.apply(this,[e,t])};BXMobileApp.TOOLS.extend(BXMobileApp.UI.Table,BXMobileApp.UI.Element);BXMobileApp.UI.Table.prototype.show=function(){app.openBXTable(this.params)};BXMobileApp.UI.Table.prototype.useCache=function(t){this.params.TABLE_SETTINGS.cache=t||false};BXMobileApp.UI.Table.prototype.useAlphabet=function(t){this.params.TABLE_SETTINGS.alphabet_index=t||false};BXMobileApp.UI.Table.prototype.setModal=function(t){this.params.TABLE_SETTINGS.modal=t||false};BXMobileApp.UI.Table.prototype.clearCache=function(){return app.exec("removeTableCache",{table_id:this.id})};BXMobileApp.UI.Page={isVisible:function(t){app.exec("checkOpenStatus",t)},reload:function(){app.reload()},reloadUnique:function(){BXMobileApp.UI.Page.params.get({callback:function(t){BX.localStorage.set("mobileReloadPageData",{url:location.pathname+location.search,data:t});app.reload()}})},close:function(t){app.closeController(t)},captureKeyboardEvents:function(t){app.enableCaptureKeyboard(!(typeof t=="boolean"&&t===false))},setId:function(t){app.setPageID(t)},getTitle:function(){return this.TopBar.title},params:{set:function(t){app.changeCurPageParams(t)},get:function(t){var e=BX.localStorage.get("mobileReloadPageData");if(e&&e.url==location.pathname+location.search&&t.callback){BX.localStorage.remove("mobileReloadPageData");t.callback(e.data)}else{app.getPageParams(t)}}},TopBar:{show:function(){app.visibleNavigationBar(true)},hide:function(){app.visibleNavigationBar(false)},setColors:function(t){app.exec("setTopBarColors",t)},addRightButton:function(t){app.addButtons({rightButton:t})},updateButtons:function(t){this.buttons=t;app.addButtons(t)},title:{params:{imageUrl:"",text:"",detailText:"",callback:""},timeout:0,isAboutToShow:false,show:function(){this.isAboutToShow=this.timeout>0;if(!this.isAboutToShow)app.titleAction("show")},hide:function(){app.titleAction("hide")},setImage:function(t){this.params.imageUrl=t;this.redraw()},setText:function(t){this.params.text=t;this.redraw()},setDetailText:function(t){this.params.detailText=t;this.redraw()},setCallback:function(t){this.params.callback=t;this.redraw()},redraw:function(){if(this.timeout>0)clearTimeout(this.timeout);this.timeout=setTimeout(BX.proxy(this._applyParams,this),10)},_applyParams:function(){app.titleAction("setParams",this.params);this.timeout=0;if(this.isAboutToShow)this.show()}}},SlidingPanel:{buttons:{},hide:function(){app.hideButtonPanel()},show:function(t){app.showSlidingPanel(t)},addButton:function(t){},removeButton:function(t){}},Refresh:{params:{enable:false,callback:false,pulltext:"Pull to refresh",downtext:"Release to refresh",loadtext:"Loading...",timeout:"60"},setParams:function(t){this.params.pulltext=t.pullText?t.pullText:this.params.pulltext;this.params.downtext=t.releaseText?t.releaseText:this.params.downtext;this.params.loadtext=t.loadText?t.loadText:this.params.loadtext;this.params.callback=t.callback?t.callback:this.params.callback;this.params.enable=typeof t.enabled=="boolean"?t.enabled:this.params.enable;this.params.timeout=t.timeout?t.timeout:this.params.timeout;app.pullDown(this.params)},setEnabled:function(t){this.params.enable=typeof t=="boolean"?t:this.params.enable;app.pullDown(this.params)},start:function(){app.exec("pullDownLoadingStart")},stop:function(){app.exec("pullDownLoadingStop")}},BottomBar:{buttons:{},show:function(){},hide:function(){},addButton:function(t){}},PopupLoader:{show:function(t){app.exec("showPopupLoader",{text:t})},hide:function(){app.exec("hidePopupLoader")}},LoadingScreen:{show:function(){app.showLoadingScreen()},hide:function(){app.hideLoadingScreen()},setEnabled:function(t){app.enableLoadingScreen(!(typeof t=="boolean"&&t===false))}},TextPanel:{defaultParams:{placeholder:"Text here...",button_name:"Send",mentionDataSource:{},action:function(){},smileButton:{},plusAction:"",callback:"-1",useImageButton:true,text:""},params:{},isAboutToShow:false,temporaryParams:{},timeout:0,setParams:function(t){this.params=BXMobileApp.TOOLS.merge(this.defaultParams,t);if(this.isAboutToShow){this.redraw()}},show:function(t){if(typeof t=="object"){this.setParams(t)}var e=this.getParams();if(!this.isAboutToShow){for(var a in this.temporaryParams){e[a]=this.temporaryParams[a]}this.temporaryParams={}}if(BXMobileApp.apiVersion>=10){app.textPanelAction("show",e)}else{delete e["text"];app.showInput(e)}this.isAboutToShow=true},hide:function(){if(BXMobileApp.apiVersion>=10)app.textPanelAction("hide");else app.hideInput()},focus:function(){if(BXMobileApp.apiVersion>=10)app.textPanelAction("focus",this.getParams())},clear:function(){if(BXMobileApp.apiVersion>=10)app.textPanelAction("clear",this.getParams());else app.clearInput()},setUseImageButton:function(t){this.params.useImageButton=!(typeof t=="boolean"&&t===false);this.redraw()},setAction:function(t){this.params.action=t;this.redraw()},setText:function(t){if(!this.isAboutToShow){this.temporaryParams["text"]=t}else{var e=app.clone(this.params,true);e.text=t;app.textPanelAction("setParams",e)}},getText:function(t){app.textPanelAction("getText",{callback:t})},showLoading:function(t){app.showInputLoading(t)},getParams:function(){var t={};for(var e in this.params){t[e]=this.params[e]}return t},redraw:function(){if(this.timeout>0)clearTimeout(this.timeout);this.timeout=setTimeout(BX.proxy(this._applyParams,this),100)},_applyParams:function(){app.textPanelAction("setParams",this.params);this.timeout=0;if(this.isAboutToShow)this.show()}},Scroll:{setEnabled:function(t){app.enableScroll(t)}}};window.BXMPage=BXMobileApp.UI.Page;window.BXMSlider=BXMobileApp.UI.Slider;window.BXMUI=BXMobileApp.UI;window.BXMPager=BXMobileApp.PageManager})();
//# sourceMappingURL=mobile_lib.map.js